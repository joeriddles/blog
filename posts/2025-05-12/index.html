<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/style.css">
  <style>
  </style>
  <title>GrafanaCon 2025</title>
</head>

<body>
  <nav>
    <a href="/">Home</a>
  </nav>
  <main>
    <h1>GrafanaCon 2025</h1>

    <p>
      The 10th GrafanaCon was in Seattle last week and it was awesome! It was my first time attending GrafanaCon and really any conference of notable size. The conference was awesome and full of great speakers. The experts booth and Birds of a Feather sessions were helpful too for talking to people working on Grafana's products.
    </p>
    <p>
      There were lots of interesting announcements and talks. Below is a smorgasbord of what I found interesting and took notes on.
    </p>

    <h3>Mimir</h3>
    <p>
      Mimir 3.0 is due to be released later this year. When exactly? They're keeping it under wraps for now but expect it sometime this fall.
    <p>
      Perhaps the biggest change is that it now requires running Kafka (or a Kafka compatible API) for ingest storage. Kafka enables Mimir 3 to separate the read and write paths. Grafana Cloud uses WarpStream for Kafka. Using object store is a common theme for Grafana and most of their products seem to be coalescing on using it. Interestingly, due to using Kafka, HA Mimir 3.0 only requires running two partitions, whereas Mimir 2 requires three. CAP thereom broken? No, just pushed into Kafka. Grafana claims Mimir 3 will be up to ~15% cheaper due to running one less partition, even when adding in Kafka.
    </p>
    <p>
      Another change coming in Mimir 3 is the Mimir query engine. Mimir 2 uses the Prometheus query engine, which must pull in all the data in a query before performing calculations. The new Mimir query engine ‚Äúworks on streams of servers‚Äù. This leads to more consistent memory and CPU usage. Way less spikey. One statistic was a memory reduction of 92%, from 954 MB to 75.
    </p>
    <p>
      See also: <a href="https://grafana.com/blog/2025/02/20/the-next-generation-of-grafana-mimir-inside-mimirs-redesigned-architecture-for-increased-reliability/">The next generation of Grafana Mimir: Inside Mimir's redesigned architecture for increased reliability</a>
    </p>
    <figure>
      <img src="https://grafana.com/media/blog/mimir-architecture/mimir-architecture-diagram3.png" />
      <figcaption>New Mimir architecture, from the above Grafana Labs blog link</figcaption>
    </figure>

    <h3>Beyla</h3>
    <p>
      Beyla uses <a href="https://ebpf.io/">eBPF</a> to auto-instrument basically anything (your code, someone else's code, a binary, etc.). It's described as a "protocol  tool", meaning your language or framework does not need to have a telemetry SDK to use it. Current supported protocols include HTTP, gRPC, Kafka, and more. NATS is not yet supported, but the  <a href="https://github.com/nats-io/nats-kafka">NATS to Kafka bridge</a> might help for testing it with NATS. I am interesting in testing Beyla with NATS micro services to see what telemetery you can get for free.
    </p>
    <p>
      I had a chance to speak with <a href="https://grafana.com/author/nikola-grcevski/">Nikola Grcevski</a> at the experts booth. The Beyla codebase is composed of mostly Go and C. He said to add support for a new protocol only requires writing Go ‚Äî¬†very nice! He also said that if existing OpenTelemetry semantic conventions exist for a new protocol, that is what Beyla would use. I haven't found one for NATS specifically, but there is one for <a href="https://opentelemetry.io/docs/specs/semconv/messaging/">messaging systems</a>. Finally, he recommended using Colima for using/developing Beyla on macOS.
    </p>
    <p>
      This episode of the Big Tent Podcast explains eBPF and Beyla in more detail: <a href="https://bigtent.fm/s2/6">How eBPF Makes Observability Awesome</a>.
    </p>

    <figure>
      <img src="https://grafana.com/media/oss/beyla-diagram-updated.png" />
      <figcaption>Beyla diagram from Grafana Labs</figcaption>
    </figure>

    <h3>Tempo</h3>
    <p>
      Tempo is Grafana's tracing backend.
    </p>
    <p>
      You can run Grafana's LGTM stack locally in a single docker container using <a href="https://github.com/grafana/docker-otel-lgtm/">docker-otel-lgtm</a>:
      <pre><code>docker run -p 3000:3000 -p 4317:4317 -p 4318:4318 --rm -ti -e ENABLE_LOGS_TEMPO=true grafana/otel-lgtm</code></pre>
    </p>
    <p>
      My goal is to do some simple NATS micro service instrumentation using OpenTelemetry tracing with Tempo and compare this to what Beyla could do using the NATS protocol automatically. I spoke with <a href="https://grafana.com/author/marty_disibio/">Marty Disibio</a> at the Birds of a Feather on Grafana storage engines. He showed some cool stuff around Telemetry drilldown, which helped make click in my head why drilldown is so cool ‚Äî¬†you don't need to write any query language! The <a href="https://grafana.com/docs/tempo/latest/metrics-generator/service_graphs/">service graph</a> view in Tempo looks like something I would want to use if I had a bunch of NATS micro services.
    </p>
    <figure>
      <img src="https://grafana.com/docs/tempo/latest/metrics-generator/grafana-service-graphs-panel.png" />
      <figcaption>Tempo service graphs UI from Grafana Labs</figcaption>
    </figure>

    <h3>Faro</h3>
    <p>
      Faro is Grafana's front-end telemetry solution. I'm curious how it compares to Posthog, Statsig, and similar tools.
    </p>

    <h3>Grafana Plugins</h3>
    <p>
      It would be cool to have a Grafana plugin for interacting with a NATS micro service. I'd like to see a panel for seeing the results of pinging a NATS micro over time, using it's <code>PING</code> endpoint.
    </p>
    <p>
      <a href="https://volkovlabs.io/">Volkov Labs</a> was mentioned several times for having great plugins.
    </p>

    <h3>Terms d'art</h3>
    <dl>
      <li>
        <dt>RUM</dt>: <dd>Real user monitoring</dd> <a href="https://developer.mozilla.org/en-US/docs/Glossary/Real_User_Monitoring">üîó</a>
      </li>
      <li>
        <dt>RED metrics</dt>: <dd>Rate, Errors, Durations</dd> <a href="https://grafana.com/blog/2018/08/02/the-red-method-how-to-instrument-your-services/">üîó</a>
      </li>
    </dl>
  </main>
</body>

</html>
